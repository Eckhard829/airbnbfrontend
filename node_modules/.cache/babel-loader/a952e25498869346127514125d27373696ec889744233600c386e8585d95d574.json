{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER-PC\\\\Downloads\\\\airbnbclone2\\\\frontend\\\\src\\\\components\\\\admin\\\\AdminManageListings.js\",\n  _s = $RefreshSig$();\n// components/admin/AdminManageListings.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../../utils/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminManageListings = () => {\n  _s();\n  const [listings, setListings] = useState([]);\n  const [filter, setFilter] = useState('all'); // all, pending, approved, rejected\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const {\n    token\n  } = useAuth();\n  useEffect(() => {\n    const fetchAllListings = async () => {\n      try {\n        const config = token ? {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        } : {};\n        // Use the standard listings endpoint\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/listings`, config);\n        console.log('Admin listings response:', res.data);\n        setListings(res.data);\n      } catch (err) {\n        var _err$response;\n        console.error('Error fetching listings:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n        setError('Failed to fetch listings');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (token) {\n      fetchAllListings();\n    }\n  }, [token]);\n  const handleApprove = async listingId => {\n    try {\n      const config = token ? {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      } : {};\n\n      // Find the current listing data\n      const currentListing = listings.find(listing => listing._id === listingId);\n      if (!currentListing) {\n        alert('Listing not found');\n        return;\n      }\n\n      // Send complete listing data with updated status\n      const updateData = {\n        title: currentListing.title,\n        description: currentListing.description,\n        price: currentListing.price,\n        location: currentListing.location,\n        guests: currentListing.guests,\n        images: currentListing.images || [],\n        specificRatings: currentListing.specificRatings || {\n          cleanliness: 0,\n          communication: 0,\n          checkin: 0,\n          accuracy: 0,\n          location: 0,\n          value: 0\n        },\n        status: 'approved',\n        createdBy: currentListing.createdBy,\n        // Remove rejection reason when approving\n        rejectionReason: undefined\n      };\n      console.log('Approving listing with data:', updateData);\n      await axios.put(`${process.env.REACT_APP_API_URL}/api/listings/${listingId}`, updateData, config);\n      setListings(listings.map(listing => listing._id === listingId ? {\n        ...listing,\n        status: 'approved',\n        rejectionReason: undefined\n      } : listing));\n      alert('Listing approved successfully!');\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Error approving listing:', err);\n      alert('Failed to approve listing: ' + (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message));\n    }\n  };\n  const handleReject = async listingId => {\n    const reason = window.prompt('Please provide a reason for rejection (optional):');\n    try {\n      const config = token ? {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      } : {};\n\n      // Find the current listing data\n      const currentListing = listings.find(listing => listing._id === listingId);\n      if (!currentListing) {\n        alert('Listing not found');\n        return;\n      }\n\n      // Send complete listing data with updated status and rejection reason\n      const updateData = {\n        title: currentListing.title,\n        description: currentListing.description,\n        price: currentListing.price,\n        location: currentListing.location,\n        guests: currentListing.guests,\n        images: currentListing.images || [],\n        specificRatings: currentListing.specificRatings || {\n          cleanliness: 0,\n          communication: 0,\n          checkin: 0,\n          accuracy: 0,\n          location: 0,\n          value: 0\n        },\n        status: 'rejected',\n        rejectionReason: reason,\n        createdBy: currentListing.createdBy\n      };\n      console.log('Rejecting listing with data:', updateData);\n      await axios.put(`${process.env.REACT_APP_API_URL}/api/listings/${listingId}`, updateData, config);\n      setListings(listings.map(listing => listing._id === listingId ? {\n        ...listing,\n        status: 'rejected',\n        rejectionReason: reason\n      } : listing));\n      alert('Listing rejected successfully!');\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error('Error rejecting listing:', err);\n      alert('Failed to reject listing: ' + (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || err.message));\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'approved':\n        return 'bg-green-100 text-green-800';\n      case 'rejected':\n        return 'bg-red-100 text-red-800';\n      case 'pending':\n      default:\n        return 'bg-yellow-100 text-yellow-800';\n    }\n  };\n  const getFilteredListings = () => {\n    if (filter === 'all') return listings;\n    return listings.filter(listing => (listing.status || 'pending') === filter);\n  };\n  const filteredListings = getFilteredListings();\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8 text-center\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8 text-center text-red-500\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-6\",\n      children: \"Manage All Listings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFilter('all'),\n        className: `px-4 py-2 rounded ${filter === 'all' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`,\n        children: [\"All (\", listings.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFilter('pending'),\n        className: `px-4 py-2 rounded ${filter === 'pending' ? 'bg-yellow-500 text-white' : 'bg-gray-200'}`,\n        children: [\"Pending (\", listings.filter(l => (l.status || 'pending') === 'pending').length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFilter('approved'),\n        className: `px-4 py-2 rounded ${filter === 'approved' ? 'bg-green-500 text-white' : 'bg-gray-200'}`,\n        children: [\"Approved (\", listings.filter(l => l.status === 'approved').length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFilter('rejected'),\n        className: `px-4 py-2 rounded ${filter === 'rejected' ? 'bg-red-500 text-white' : 'bg-gray-200'}`,\n        children: [\"Rejected (\", listings.filter(l => l.status === 'rejected').length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), filteredListings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"No listings found for the selected filter.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: filteredListings.map(listing => {\n        var _listing$createdBy, _listing$createdBy2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-lg p-6 shadow-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `px-3 py-1 rounded text-sm font-medium ${getStatusColor(listing.status)}`,\n              children: listing.status || 'Pending'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: [\"ID: \", listing._id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: listing.images && listing.images.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: listing.images[0],\n              alt: listing.title,\n              className: \"w-full h-48 object-cover rounded\",\n              onError: e => {\n                e.target.src = 'https://via.placeholder.com/150?text=Image+Not+Found';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-48 bg-gray-200 flex items-center justify-center rounded\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"No Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold mb-2\",\n            children: listing.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-2 text-sm\",\n            children: listing.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4 mb-4 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 22\n                }, this), \" $\", listing.price, \"/night\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Location:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 22\n                }, this), \" \", listing.location]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Guests:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 22\n                }, this), \" \", listing.guests]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Host:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 22\n                }, this), \" \", ((_listing$createdBy = listing.createdBy) === null || _listing$createdBy === void 0 ? void 0 : _listing$createdBy.name) || ((_listing$createdBy2 = listing.createdBy) === null || _listing$createdBy2 === void 0 ? void 0 : _listing$createdBy2.email) || 'Unknown']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Created:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 22\n                }, this), \" \", new Date(listing.createdAt).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), listing.specificRatings && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium mb-2\",\n              children: \"Ratings:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-2 text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Cleanliness: \", listing.specificRatings.cleanliness || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Communication: \", listing.specificRatings.communication || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Check-in: \", listing.specificRatings.checkin || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Accuracy: \", listing.specificRatings.accuracy || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Location: \", listing.specificRatings.location || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Value: \", listing.specificRatings.value || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this), listing.status === 'rejected' && listing.rejectionReason && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 p-3 bg-red-50 border border-red-200 rounded\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Rejection Reason:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 42\n              }, this), \" \", listing.rejectionReason]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 17\n          }, this), (listing.status || 'pending') === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleApprove(listing._id),\n              className: \"flex-1 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",\n              children: \"Approve\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleReject(listing._id),\n              className: \"flex-1 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",\n              children: \"Reject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this), listing.status === 'approved' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleReject(listing._id),\n              className: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",\n              children: \"Revoke Approval\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 17\n          }, this), listing.status === 'rejected' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleApprove(listing._id),\n              className: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",\n              children: \"Approve Listing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 17\n          }, this)]\n        }, listing._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminManageListings, \"ogPhwNhsgMUz7IoUcWNxsRZf9LE=\", false, function () {\n  return [useAuth];\n});\n_c = AdminManageListings;\nexport default AdminManageListings;\nvar _c;\n$RefreshReg$(_c, \"AdminManageListings\");","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","jsxDEV","_jsxDEV","AdminManageListings","_s","listings","setListings","filter","setFilter","error","setError","loading","setLoading","token","fetchAllListings","config","headers","Authorization","res","get","process","env","REACT_APP_API_URL","console","log","data","err","_err$response","response","message","handleApprove","listingId","currentListing","find","listing","_id","alert","updateData","title","description","price","location","guests","images","specificRatings","cleanliness","communication","checkin","accuracy","value","status","createdBy","rejectionReason","undefined","put","map","_err$response2","_err$response2$data","handleReject","reason","window","prompt","_err$response3","_err$response3$data","getStatusColor","getFilteredListings","filteredListings","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","l","_listing$createdBy","_listing$createdBy2","src","alt","onError","e","target","name","email","Date","createdAt","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/Users/USER-PC/Downloads/airbnbclone2/frontend/src/components/admin/AdminManageListings.js"],"sourcesContent":["// components/admin/AdminManageListings.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../../utils/AuthContext';\r\n\r\nconst AdminManageListings = () => {\r\n  const [listings, setListings] = useState([]);\r\n  const [filter, setFilter] = useState('all'); // all, pending, approved, rejected\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const { token } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const fetchAllListings = async () => {\r\n      try {\r\n        const config = token ? { headers: { Authorization: `Bearer ${token}` } } : {};\r\n        // Use the standard listings endpoint\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/listings`, config);\r\n        console.log('Admin listings response:', res.data);\r\n        setListings(res.data);\r\n      } catch (err) {\r\n        console.error('Error fetching listings:', err.response?.data || err.message);\r\n        setError('Failed to fetch listings');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (token) {\r\n      fetchAllListings();\r\n    }\r\n  }, [token]);\r\n\r\n  const handleApprove = async (listingId) => {\r\n    try {\r\n      const config = token ? { headers: { Authorization: `Bearer ${token}` } } : {};\r\n      \r\n      // Find the current listing data\r\n      const currentListing = listings.find(listing => listing._id === listingId);\r\n      if (!currentListing) {\r\n        alert('Listing not found');\r\n        return;\r\n      }\r\n\r\n      // Send complete listing data with updated status\r\n      const updateData = {\r\n        title: currentListing.title,\r\n        description: currentListing.description,\r\n        price: currentListing.price,\r\n        location: currentListing.location,\r\n        guests: currentListing.guests,\r\n        images: currentListing.images || [],\r\n        specificRatings: currentListing.specificRatings || {\r\n          cleanliness: 0,\r\n          communication: 0,\r\n          checkin: 0,\r\n          accuracy: 0,\r\n          location: 0,\r\n          value: 0\r\n        },\r\n        status: 'approved',\r\n        createdBy: currentListing.createdBy,\r\n        // Remove rejection reason when approving\r\n        rejectionReason: undefined\r\n      };\r\n\r\n      console.log('Approving listing with data:', updateData);\r\n\r\n      await axios.put(\r\n        `${process.env.REACT_APP_API_URL}/api/listings/${listingId}`,\r\n        updateData,\r\n        config\r\n      );\r\n      \r\n      setListings(listings.map(listing => \r\n        listing._id === listingId \r\n          ? { ...listing, status: 'approved', rejectionReason: undefined }\r\n          : listing\r\n      ));\r\n      \r\n      alert('Listing approved successfully!');\r\n    } catch (err) {\r\n      console.error('Error approving listing:', err);\r\n      alert('Failed to approve listing: ' + (err.response?.data?.message || err.message));\r\n    }\r\n  };\r\n\r\n  const handleReject = async (listingId) => {\r\n    const reason = window.prompt('Please provide a reason for rejection (optional):');\r\n    try {\r\n      const config = token ? { headers: { Authorization: `Bearer ${token}` } } : {};\r\n      \r\n      // Find the current listing data\r\n      const currentListing = listings.find(listing => listing._id === listingId);\r\n      if (!currentListing) {\r\n        alert('Listing not found');\r\n        return;\r\n      }\r\n\r\n      // Send complete listing data with updated status and rejection reason\r\n      const updateData = {\r\n        title: currentListing.title,\r\n        description: currentListing.description,\r\n        price: currentListing.price,\r\n        location: currentListing.location,\r\n        guests: currentListing.guests,\r\n        images: currentListing.images || [],\r\n        specificRatings: currentListing.specificRatings || {\r\n          cleanliness: 0,\r\n          communication: 0,\r\n          checkin: 0,\r\n          accuracy: 0,\r\n          location: 0,\r\n          value: 0\r\n        },\r\n        status: 'rejected',\r\n        rejectionReason: reason,\r\n        createdBy: currentListing.createdBy\r\n      };\r\n\r\n      console.log('Rejecting listing with data:', updateData);\r\n\r\n      await axios.put(\r\n        `${process.env.REACT_APP_API_URL}/api/listings/${listingId}`,\r\n        updateData,\r\n        config\r\n      );\r\n      \r\n      setListings(listings.map(listing => \r\n        listing._id === listingId \r\n          ? { ...listing, status: 'rejected', rejectionReason: reason }\r\n          : listing\r\n      ));\r\n      \r\n      alert('Listing rejected successfully!');\r\n    } catch (err) {\r\n      console.error('Error rejecting listing:', err);\r\n      alert('Failed to reject listing: ' + (err.response?.data?.message || err.message));\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'approved':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'rejected':\r\n        return 'bg-red-100 text-red-800';\r\n      case 'pending':\r\n      default:\r\n        return 'bg-yellow-100 text-yellow-800';\r\n    }\r\n  };\r\n\r\n  const getFilteredListings = () => {\r\n    if (filter === 'all') return listings;\r\n    return listings.filter(listing => (listing.status || 'pending') === filter);\r\n  };\r\n\r\n  const filteredListings = getFilteredListings();\r\n\r\n  if (loading) return <div className=\"container mx-auto px-4 py-8 text-center\">Loading...</div>;\r\n  if (error) return <div className=\"container mx-auto px-4 py-8 text-center text-red-500\">{error}</div>;\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Manage All Listings</h1>\r\n      \r\n      {/* Filter buttons */}\r\n      <div className=\"mb-6 flex gap-2\">\r\n        <button\r\n          onClick={() => setFilter('all')}\r\n          className={`px-4 py-2 rounded ${filter === 'all' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}\r\n        >\r\n          All ({listings.length})\r\n        </button>\r\n        <button\r\n          onClick={() => setFilter('pending')}\r\n          className={`px-4 py-2 rounded ${filter === 'pending' ? 'bg-yellow-500 text-white' : 'bg-gray-200'}`}\r\n        >\r\n          Pending ({listings.filter(l => (l.status || 'pending') === 'pending').length})\r\n        </button>\r\n        <button\r\n          onClick={() => setFilter('approved')}\r\n          className={`px-4 py-2 rounded ${filter === 'approved' ? 'bg-green-500 text-white' : 'bg-gray-200'}`}\r\n        >\r\n          Approved ({listings.filter(l => l.status === 'approved').length})\r\n        </button>\r\n        <button\r\n          onClick={() => setFilter('rejected')}\r\n          className={`px-4 py-2 rounded ${filter === 'rejected' ? 'bg-red-500 text-white' : 'bg-gray-200'}`}\r\n        >\r\n          Rejected ({listings.filter(l => l.status === 'rejected').length})\r\n        </button>\r\n      </div>\r\n\r\n      {filteredListings.length === 0 ? (\r\n        <div className=\"text-center py-8\">\r\n          <p className=\"text-gray-600\">No listings found for the selected filter.</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {filteredListings.map((listing) => (\r\n            <div key={listing._id} className=\"border rounded-lg p-6 shadow-md\">\r\n              <div className=\"flex justify-between items-start mb-4\">\r\n                <span className={`px-3 py-1 rounded text-sm font-medium ${getStatusColor(listing.status)}`}>\r\n                  {listing.status || 'Pending'}\r\n                </span>\r\n                <span className=\"text-xs text-gray-500\">\r\n                  ID: {listing._id}\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"mb-4\">\r\n                {listing.images && listing.images.length > 0 ? (\r\n                  <img\r\n                    src={listing.images[0]}\r\n                    alt={listing.title}\r\n                    className=\"w-full h-48 object-cover rounded\"\r\n                    onError={(e) => { e.target.src = 'https://via.placeholder.com/150?text=Image+Not+Found'; }}\r\n                  />\r\n                ) : (\r\n                  <div className=\"w-full h-48 bg-gray-200 flex items-center justify-center rounded\">\r\n                    <span>No Image</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <h2 className=\"text-xl font-semibold mb-2\">{listing.title}</h2>\r\n              <p className=\"text-gray-600 mb-2 text-sm\">{listing.description}</p>\r\n              <div className=\"grid grid-cols-2 gap-4 mb-4 text-sm\">\r\n                <div>\r\n                  <p><strong>Price:</strong> ${listing.price}/night</p>\r\n                  <p><strong>Location:</strong> {listing.location}</p>\r\n                  <p><strong>Guests:</strong> {listing.guests}</p>\r\n                </div>\r\n                <div>\r\n                  <p><strong>Host:</strong> {listing.createdBy?.name || listing.createdBy?.email || 'Unknown'}</p>\r\n                  <p><strong>Created:</strong> {new Date(listing.createdAt).toLocaleDateString()}</p>\r\n                </div>\r\n              </div>\r\n\r\n              {listing.specificRatings && (\r\n                <div className=\"mb-4\">\r\n                  <h4 className=\"font-medium mb-2\">Ratings:</h4>\r\n                  <div className=\"grid grid-cols-3 gap-2 text-xs\">\r\n                    <div>Cleanliness: {listing.specificRatings.cleanliness || 'N/A'}</div>\r\n                    <div>Communication: {listing.specificRatings.communication || 'N/A'}</div>\r\n                    <div>Check-in: {listing.specificRatings.checkin || 'N/A'}</div>\r\n                    <div>Accuracy: {listing.specificRatings.accuracy || 'N/A'}</div>\r\n                    <div>Location: {listing.specificRatings.location || 'N/A'}</div>\r\n                    <div>Value: {listing.specificRatings.value || 'N/A'}</div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {listing.status === 'rejected' && listing.rejectionReason && (\r\n                <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded\">\r\n                  <p className=\"text-sm\"><strong>Rejection Reason:</strong> {listing.rejectionReason}</p>\r\n                </div>\r\n              )}\r\n\r\n              {(listing.status || 'pending') === 'pending' && (\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={() => handleApprove(listing._id)}\r\n                    className=\"flex-1 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\r\n                  >\r\n                    Approve\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleReject(listing._id)}\r\n                    className=\"flex-1 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\r\n                  >\r\n                    Reject\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {listing.status === 'approved' && (\r\n                <div className=\"text-center\">\r\n                  <button\r\n                    onClick={() => handleReject(listing._id)}\r\n                    className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\r\n                  >\r\n                    Revoke Approval\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {listing.status === 'rejected' && (\r\n                <div className=\"text-center\">\r\n                  <button\r\n                    onClick={() => handleApprove(listing._id)}\r\n                    className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\r\n                  >\r\n                    Approve Listing\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminManageListings;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}